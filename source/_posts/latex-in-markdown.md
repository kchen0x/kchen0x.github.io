title: Markdown 下 $\LaTeX$ 公式、编号、对齐
date: 2016/12/06 00:33:29
updated: 
tags:
    - Markdown
    - LaTeX
---

> 本教程适用于**『马克飞象』**、**『CMD Markdown』**等主流 Markdown（在线）编辑器中的 $\LaTeX$ Math 公式编辑（也即：支持 Multi-Markdown 的增强语法集）。

<!--more-->

> $\LaTeX$是一种基于 $\TeX$ 的排版系统，由美国计算机学家莱斯利·兰伯特（Leslie Lamport）在20世纪80年代初期开发，利用这种格式，即使使用者没有排版和程序设计的知识也可以充分发挥由 $\TeX$ 所提供的强大功能，能在几天，甚至几小时内生成很多具有书籍质量的印刷品。对于生成复杂表格和数学公式，这一点表现得尤为突出。因此它非常适用于生成高印刷质量的科技和数学类文档。这个系统同样适用于生成从简单的信件到完整书籍的所有其他种类的文档。

 $\LaTeX$ 的数学公式主要有两种，即行内公式（Inline Formulas）和块级公式（Display Formulas）。行内公式内嵌于正文文本中间，与正文文字行高相等；块级公式则单独成行。

## 行内公式

用`$...$`符号包围的 $\LaTeX$ 代码：

```latex
这样的代码可以生成如$x^n+y^n=z^n$这样的行内公式。
```
> eg. 这样的代码可以生成如$x^n+y^n=z^n$这样的行内公式。

## 块级公式

用`$$...$$`符号包围的 $\LaTeX$ 代码：

```latex
这样的代码可以生成如$$x^n+y^n=z^n$$这样的块级公式。
```

> eg. 这样的代码可以生成如$$x^n+y^n=z^n$$这样的块级公式。

### 块级公式的编号

直接使用块级代码`$$x^n+y^n=z^n$$`不会生成编号，而使用`\tag{...}`标签就可以生成对应的编号。

```latex
这样的代码可以生成如`$$x^n+y^n=z^n \tag{1.1}$$`的编号块级公式。
```

> eg. 这样的代码可以生成如$$x^n+y^n=z^n \tag{1.1} $$的编号块级公式。

除了手动编号之外 $\LaTeX$ 还支持对公式的自动编号，对于需要自动编号的公式，需要使用`\begin{equation}...\end{equation}`将代码快包围起来。

```
这样的代码可以生成如
$$\begin{equation}
x^n+y^n=z^n
\end{equation}$$
的自动编号块级公式。
```

> eg. 这样的代码可以生成如
$$\begin{equation}
x^n+y^n=z^n
\end{equation}$$
的自动编号块级公式。

因为自动编号的代码较为复杂，而且不易扩展，所以不太建议使用自动编号，手动编号更易维护（CMDMarkdown 并不支持自动编号）。

公式引用时候可以直接用`$编号$`即可。
对于`$$a^2+b^2=c^2 \tag {1.2}$$`由公式`$(1.2)$`即可得到结论。

> eg. 对于$$a^2+b^2=c^2 \tag {1.2}$$由公式$(1.2)$即可得到结论。

### 单个公式换行

单个公式很长的时候需要换行，但仅允许生成一个编号时，可以用`split`标签包围公式代码，在需要转行的地方使用`\\`，每行需要使用1个`&`来标识对齐的位置，结束后可使用`\tag{...}`标签编号。

```latex
$$
\begin{split}
a &= b \\
c &= d \\
e &= f 
\end{split}\tag{1.3}
$$
```

> eg. 
> $$
\begin{split}
a &= b \\\\
c &=  d \\\\
e &= f
\end{split}\tag{1.3}
$$

注意：每行只允许出现一个`&`，使用`split`标签后，编号会**上下居中**显示。

### 多行的独立公式
有时候需要罗列多个公式，可以用`eqnarray*`标签包围公式代码，在需要转行的地方使用`\\`，每行需要使用2个`&`来标识对齐位置，两个`&...&`号之间的是公式间对齐的位置，每行公式后可使用`\tag{...}`标签编号：

```latex
$$
\begin{eqnarray}
x^n+y^n &=& z^n \tag{1.4} \\
x+y &=& z \tag{1.5}
\end{eqnarray}
$$
```

> $$
\begin{eqnarray}
x^n+y^n &=& z^n \tag{1.4} \\\\
x+y &=& z \tag{1.5}
\end{eqnarray}
$$

以上就是常见的Markdown工具环境下的 $\LaTeX$ 公式排版最简单的、最常用的代码命令。至于如何写出复杂的 $\LaTeX$ 公式，网络上有非常多的在线工具和各种桌面级的客户端，大家可以去搜索自己喜欢的试试，以下是我推荐的几个好用的工具：

- MathType ——重量级公式编辑器，功能十分强大
- Daum Equation Editor ——Mac平台轻量级 $\LaTeX$ 公式编辑器
- MyScript ——iOS平台的公式编辑器，手写输入最便利