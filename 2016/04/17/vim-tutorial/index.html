<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="Quentin"><meta name="description" content="教程整理自实验楼Edward讲师的课程。首先Vim按键速查卡镇楼：不喜欢看文字的同学可接通过下面这个游戏直接学习Vim（我还没通关，后面似乎要付费了😂）：VimAdventures核心用法我把Vim的核心用法总结为移动、跳转、插入、删除、复制、粘贴、撤销、"><meta name="keywords" content="Vim"><title>Vim编辑器实用基础 · Quentin</title><link rel="icon" href="/favicon.ico"><link rel="canonical" href="http://git.chenkunonline.cn/2016/04/17/vim-tutorial/"><link rel="alternate" href="/atom.xml" title="Quentin"><link rel="stylesheet" href="/fonts/iconfont/iconfont.css"><link rel="stylesheet" href="/css/style.css"><script type="text/javascript">var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?Your baidu Analytics ID";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script type="text/javascript">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'Your Google Analytics ID', 'auto');
ga('send', 'pageview');</script></head><body><div id="main"><header><a href="/." class="logo">Quentin</a><ul class="nav"><li class="nav-link"><a href="/" target="_self">Home</a></li><li class="nav-link"><a href="/archives/" target="_self">Archives</a></li><li class="nav-link"><a href="/tags/" target="_self">Tags</a></li><li class="nav-link"><a href="/about/" target="_self">About</a></li></ul></header><section id="container"><article class="post"><h1 class="post-title">Vim编辑器实用基础</h1><span class="post-time">Apr 17, 2016</span><div id="sidebar" class="post-sidebar"><h3 class="heading">Contents</h3><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#核心用法"><span class="toc-text">核心用法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#移动"><span class="toc-text">移动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#跳转"><span class="toc-text">跳转</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#插入"><span class="toc-text">插入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除"><span class="toc-text">删除</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#复制"><span class="toc-text">复制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#粘贴"><span class="toc-text">粘贴</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#撤销"><span class="toc-text">撤销</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查找"><span class="toc-text">查找</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#打开"><span class="toc-text">打开</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#保存退出"><span class="toc-text">保存退出</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#快速入门"><span class="toc-text">快速入门</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Vim的基本模式"><span class="toc-text">Vim的基本模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#基本模式的切换"><span class="toc-text">基本模式的切换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vim中的操作"><span class="toc-text">Vim中的操作</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vim文档编辑"><span class="toc-text">Vim文档编辑</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Vim重复命令"><span class="toc-text">Vim重复命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#游标的快速跳转"><span class="toc-text">游标的快速跳转</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#行间跳转"><span class="toc-text">行间跳转</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#行内跳转"><span class="toc-text">行内跳转</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#复制粘贴和剪切"><span class="toc-text">复制粘贴和剪切</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#复制及粘贴文本"><span class="toc-text">复制及粘贴文本</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#剪切及粘贴"><span class="toc-text">剪切及粘贴</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#字符的替换及撤销-Undo操作"><span class="toc-text">字符的替换及撤销(Undo操作)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#替换和撤销-Undo-命令"><span class="toc-text">替换和撤销(Undo)命令</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#快速缩进"><span class="toc-text">快速缩进</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#使用命令进行快速调整缩进操作"><span class="toc-text">使用命令进行快速调整缩进操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#shiftwidth命令"><span class="toc-text">shiftwidth命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#调整文本位置"><span class="toc-text">调整文本位置</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查找-1"><span class="toc-text">查找</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#快速查找"><span class="toc-text">快速查找</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#高级查找"><span class="toc-text">高级查找</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#进阶内容"><span class="toc-text">进阶内容</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#多文件编辑"><span class="toc-text">多文件编辑</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#使用Vim编辑多个文件"><span class="toc-text">使用Vim编辑多个文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#进入vim后打开新文件"><span class="toc-text">进入vim后打开新文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#恢复文件"><span class="toc-text">恢复文件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#可视模式"><span class="toc-text">可视模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#视窗操作"><span class="toc-text">视窗操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#功能设定"><span class="toc-text">功能设定</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Vim的功能设定"><span class="toc-text">Vim的功能设定</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#获取目前的设定"><span class="toc-text">获取目前的设定</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#set功能的说明"><span class="toc-text">set功能的说明</span></a></li></ol></li></ol></li></ol></div><div class="post-content"><blockquote>
<p>教程整理自<a href="http://www.shiyanlou.com" target="_blank" rel="external">实验楼</a>Edward讲师的课程。</p>
</blockquote>
<p>首先Vim按键速查卡镇楼：</p>
<p><img src="http://7xin49.com1.z0.glb.clouddn.com/vim_cheat_sheet_for_programmers_print.png-1920.jpg" alt="Key"> </p>
<p>不喜欢看文字的同学可接通过下面这个游戏直接学习Vim（我还没通关，后面似乎要付费了😂）：</p>
<p><a href="http://vim-adventures.com" target="_blank" rel="external">Vim Adventures</a></p>
<p><img src="http://coolshell.cn//wp-content/uploads/2012/04/vimadventuresgamefun.jpg" alt="Vim Adventures"></p>
<hr>
<h2 id="核心用法"><a href="#核心用法" class="headerlink" title="核心用法"></a>核心用法</h2><p>我把Vim的核心用法总结为移动、跳转、插入、删除、复制、粘贴、撤销、查找、打开、保存、退出。只要掌握了这几个，就可以进行简单的编辑了，所以：</p>
<a id="more"></a>
<h3 id="移动"><a href="#移动" class="headerlink" title="移动"></a>移动</h3><p><code>h</code>，<code>j</code>，<code>k</code>，<code>l</code> 分别负责左、下、上、右的光标移动。（方向键也可以使用）<code>w</code>前进一个单词，<code>b</code>后退一个单词。</p>
<h3 id="跳转"><a href="#跳转" class="headerlink" title="跳转"></a>跳转</h3><ul>
<li><code>gg</code>跳到第一行</li>
<li><code>G</code>跳到最后一行</li>
<li><code>5G</code>跳到第5行（<code>:set nu</code>打开行号）</li>
</ul>
<h3 id="插入"><a href="#插入" class="headerlink" title="插入"></a>插入</h3><ul>
<li><code>i</code>在光标后插入文本，此时可以正常编辑，编辑完后按<code>ESC</code>退出插入模式。</li>
<li><code>o</code>（小写字母）在光标行后插入新行，编辑。</li>
<li><code>O</code>（大写字母）在光标行前插入新行，编辑。</li>
</ul>
<h3 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h3><ul>
<li><code>x</code>删除光标处</li>
<li><code>dd</code>删除光标行</li>
<li><code>5x</code>删除5个字符</li>
<li><code>5dd</code>删除5行</li>
<li><code>dw</code>删除光标处的单词</li>
</ul>
<h3 id="复制"><a href="#复制" class="headerlink" title="复制"></a>复制</h3><ul>
<li><code>y</code>复制光标</li>
<li><code>yy</code>复制当前行</li>
</ul>
<h3 id="粘贴"><a href="#粘贴" class="headerlink" title="粘贴"></a>粘贴</h3><ul>
<li><code>p</code>粘贴至光标后</li>
</ul>
<h3 id="撤销"><a href="#撤销" class="headerlink" title="撤销"></a>撤销</h3><ul>
<li><code>u</code>撤销</li>
<li><code>u{5}</code>撤销5步</li>
</ul>
<h3 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h3><ul>
<li><code>/str</code>查找字符串str</li>
<li><code>n</code>查找下一个str</li>
<li><code>?str</code>向上查找字符串str</li>
<li><code>N</code>查找上一个出现的str</li>
</ul>
<h3 id="打开"><a href="#打开" class="headerlink" title="打开"></a>打开</h3><p><code>:e newfile</code> 打开新文件newfile</p>
<h3 id="保存退出"><a href="#保存退出" class="headerlink" title="保存退出"></a>保存退出</h3><ul>
<li><code>:w</code>保存</li>
<li><code>:w!</code>强制保存</li>
<li><code>:q</code>退出</li>
<li><code>:q!</code>强制推出</li>
<li><code>:wq</code>保存后退出</li>
<li><code>:wq!</code>强制保存后退出</li>
</ul>
<p>之后我们再来系统地看看Vim的使用。</p>
<hr>
<h2 id="快速入门"><a href="#快速入门" class="headerlink" title="快速入门"></a>快速入门</h2><h3 id="Vim的基本模式"><a href="#Vim的基本模式" class="headerlink" title="Vim的基本模式"></a>Vim的基本模式</h3><p>Vim具有6种基本模式和5种派生模式，我们这里只简单介绍下6种基本模式：</p>
<blockquote>
<ul>
<li>普通模式(Normal mode)</li>
</ul>
</blockquote>
<p>在普通模式中，用的编辑器命令，比如移动光标，删除文本等等。这也是Vim启动后的默认模式。这正好和许多新用户期待的操作方式相反（大多数编辑器默认模式为插入模式）。</p>
<p>Vim强大的编辑能来自于其普通模式命令。普通模式命令往往需要一个操作符结尾。例如普通模式命令<code>dd</code>删除当前行，但是第一个”<code>d</code>“的后面可以跟另外的移动命令来代替第二个<code>d</code>，比如用移动到下一行的”<code>j</code>“键就可以删除当前行和下一行。另外还可以指定命令重复次数，<code>2dd</code>（重复<code>dd</code>两次），和<code>dj</code>的效果是一样的。用户学习了各种各样的文本间移动／跳转的命令和其他的普通模式的编辑命令，并且能够灵活组合使用的话，能够比那些没有模式的编辑器更加高效的进行文本编辑。</p>
<p>在普通模式中，有很多方法可以进入插入模式。比较普通的方式是按<code>a</code>（append／追加）键或者<code>i</code>（insert／插入）键。</p>
<blockquote>
<ul>
<li>插入模式(Insert mode)</li>
</ul>
</blockquote>
<p>在这个模式中，大多数按键都会向文本缓冲中插入文本。大多数新用户希望文本编辑器编辑过程中一直保持这个模式。</p>
<p>在插入模式中，可以按ESC键回到普通模式。</p>
<blockquote>
<ul>
<li>命令行模式(Command line mode)</li>
</ul>
</blockquote>
<p>在命令行模式中可以输入会被解释成并执行的文本。例如执行命令（<code>:</code>键），搜索（<code>/</code>和<code>?</code>键）或者过滤命令（<code>!</code>键）。在命令执行之后，Vim返回到命令行模式之前的模式，通常是普通模式。</p>
<blockquote>
<ul>
<li>可视模式(Visual mode)</li>
</ul>
</blockquote>
<p>这个模式与普通模式比较相似。但是移动命令会扩大高亮的文本区域。高亮区域可以是字符、行或者是一块文本。当执行一个非移动命令时，命令会被执行到这块高亮的区域上。Vim的”文本对象”也能和移动命令一样用在这个模式中。</p>
<blockquote>
<ul>
<li>选择模式(Select mode)</li>
</ul>
</blockquote>
<p>这个模式和无模式编辑器的行为比较相似（Windows标准文本控件的方式）。这个模式中，可以用鼠标或者光标键高亮选择文本，不过输入任何字符的话，Vim会用这个字符替换选择的高亮文本块，并且自动进入插入模式。</p>
<blockquote>
<ul>
<li>Ex模式(Ex mode)</li>
</ul>
</blockquote>
<p>这和命令行模式比较相似，在使用<code>:visual</code>命令离开Ex模式前，可以一次执行多条命令。</p>
<p>这其中我们常用到就是普通模式、插入模式和命令行模式，本文也只涉及这三个常用模式的内容。</p>
<h3 id="基本模式的切换"><a href="#基本模式的切换" class="headerlink" title="基本模式的切换"></a>基本模式的切换</h3><p>vim启动进入普通模式，处于插入模式或命令行模式时只需要按<code>Esc</code>或者<code>Ctrl+[</code>即可进入普通模式。普通模式中按<code>i</code>（Insert插入）或<code>a</code>（Append附加）键都可以进入插入模式，普通模式中按<code>:</code>进入命令行模式。命令行模式中输入<code>wq</code>回车后保存并退出vim。</p>
<p><img src="https://dn-anything-about-doc.qbox.me/md041716vim.gif" alt="模式切换"></p>
<h3 id="Vim中的操作"><a href="#Vim中的操作" class="headerlink" title="Vim中的操作"></a>Vim中的操作</h3><blockquote>
<ul>
<li>进入Vim</li>
</ul>
</blockquote>
<p>在终端中<code>vim</code>后面加上你要打开的已存在的文件名或者不存在（则作为新建文件）的文件名：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ vim practice_1.txt</div></pre></td></tr></table></figure>
<p>直接使用<code>vim</code>也可以打开Vim编辑器，但是不会打开任何文件。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ vim</div></pre></td></tr></table></figure>
<p>进入命令行模式后输入<code>:e</code> 文件路径 同样可以打开相应文件。</p>
<blockquote>
<ul>
<li>三种模式的切换</li>
</ul>
</blockquote>
<p>在进入Vim后，按下<code>i</code>键进入插入模式。在该模式下您可以输入文本信息,下面请输入如下三行信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">12345678</div><div class="line">abcdefghijk</div><div class="line">helloVim</div></pre></td></tr></table></figure>
<p>按<code>Esc</code>进入普通模式，在该模式下使用方向键或者<code>h</code>,<code>j</code>,<code>k</code>,<code>l</code>键可以移动游标。</p>
<table>
<thead>
<tr>
<th>按键</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>h</code></td>
<td>左</td>
</tr>
<tr>
<td><code>l</code></td>
<td>右（小写L）</td>
</tr>
<tr>
<td><code>j</code></td>
<td>下</td>
</tr>
<tr>
<td><code>k</code></td>
<td>上</td>
</tr>
<tr>
<td><code>w</code></td>
<td>移动到下一个单词</td>
</tr>
<tr>
<td><code>b</code></td>
<td>移动到上一个单词</td>
</tr>
</tbody>
</table>
<blockquote>
<ul>
<li>插入模式</li>
</ul>
</blockquote>
<p>在普通模式下使用下面的键将进入插入模式，并可以从相应的位置开始输入:</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>i</code></td>
<td>在当前光标处进行编辑</td>
</tr>
<tr>
<td><code>I</code></td>
<td>在行首插入</td>
</tr>
<tr>
<td><code>A</code></td>
<td>在行末插入</td>
</tr>
<tr>
<td><code>a</code></td>
<td>在光标后插入编辑</td>
</tr>
<tr>
<td><code>o</code></td>
<td>在当前行后插入一个新行</td>
</tr>
<tr>
<td><code>O</code></td>
<td>在当前行前插入一个新行</td>
</tr>
<tr>
<td><code>cw</code></td>
<td>替换从光标所在位置后到一个单词结尾的字符</td>
</tr>
</tbody>
</table>
<blockquote>
<ul>
<li>保存和退出</li>
</ul>
</blockquote>
<p>从普通模式输入<code>:</code>进入命令行模式，输入<code>w</code>回车，保存文档。输入<code>:w</code> 文件名可以将文档另存为其他文件名或存到其它路径下。</p>
<p>从普通模式输入<code>:</code>进入命令行模式，输入<code>wq</code>回车，<strong>保存并退出编辑</strong>，以下为其它几种退出方式：</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>:q!</code></td>
<td>强制退出，不保存</td>
</tr>
<tr>
<td><code>:q</code></td>
<td>退出</td>
</tr>
<tr>
<td><code>:wq!</code></td>
<td>强制保存并退出</td>
</tr>
<tr>
<td><code>:w &lt;文件路径&gt;</code></td>
<td>另存为</td>
</tr>
<tr>
<td><code>:saveas 文件路径</code></td>
<td>另存为</td>
</tr>
<tr>
<td><code>:x</code></td>
<td><strong>保存并退出</strong></td>
</tr>
<tr>
<td><code>:wq</code></td>
<td>保存并退出</td>
</tr>
</tbody>
</table>
<p>普通模式下输入<code>Shift+zz</code>即可保存退出Vim。</p>
<blockquote>
<ul>
<li>删除文本</li>
</ul>
</blockquote>
<p>进入普通模式，使用下列命令可以进行文本快速删除：</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>x</code></td>
<td>删除游标所在的字符</td>
</tr>
<tr>
<td><code>X</code></td>
<td>删除游标所在前一个字符</td>
</tr>
<tr>
<td><code>Delete</code></td>
<td>同<code>x</code></td>
</tr>
<tr>
<td><code>dd</code></td>
<td>删除整行</td>
</tr>
<tr>
<td><code>dw</code></td>
<td>删除一个单词（不适用中文）</td>
</tr>
<tr>
<td><code>d$</code>或<code>D</code></td>
<td>删除至行尾</td>
</tr>
<tr>
<td><code>d^</code></td>
<td>删除至行首</td>
</tr>
<tr>
<td><code>dG</code></td>
<td>删除到文档结尾处</td>
</tr>
<tr>
<td><code>d1G</code></td>
<td>删至文档首部</td>
</tr>
</tbody>
</table>
<p>除此之外，你还可以在命令之前加上数字，表示一次删除多行，如：</p>
<p><code>2dd</code>表示一次删除2行</p>
<p>我们来做如下练习：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ cp /etc/protocols .</div><div class="line">$ vim protocols</div></pre></td></tr></table></figure>
<p><img src="https://dn-anything-about-doc.qbox.me/md041716vim2+.gif" alt="Vim Protocal"></p>
<h2 id="Vim文档编辑"><a href="#Vim文档编辑" class="headerlink" title="Vim文档编辑"></a>Vim文档编辑</h2><blockquote>
<p>以下所有内容请在</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt; $ cp /etc/protocols .</div><div class="line">&gt; $ vim protocols</div><div class="line">&gt;</div></pre></td></tr></table></figure>
<p>的文本中进行。</p>
</blockquote>
<h3 id="Vim重复命令"><a href="#Vim重复命令" class="headerlink" title="Vim重复命令"></a>Vim重复命令</h3><p>在普通模式下<code>.</code>(小数点)表示重复上一次的命令操作，普通模式下输入<code>x</code>，删除第一个字符，输入<code>.</code>(小数点)会再次删除一个字符，除此之外也可以重复<code>dd</code>的行删除操作。</p>
<p>进入普通模式输入<code>N&lt;command&gt;</code>，<code>N</code>表示重复后面的次数：</p>
<ul>
<li>输入<code>10x</code>，删除10个连续字符</li>
<li>输入<code>3dd</code>，将会删除3行文本</li>
</ul>
<p>在普通模式下，你还可以使用<code>dw</code>或者<code>daw</code>(delete a word)删除一个单词，所以你可以很容易的联想到<code>dNw</code>(N替换为相应数字)表示删除N个单词。</p>
<h3 id="游标的快速跳转"><a href="#游标的快速跳转" class="headerlink" title="游标的快速跳转"></a>游标的快速跳转</h3><h4 id="行间跳转"><a href="#行间跳转" class="headerlink" title="行间跳转"></a>行间跳转</h4><p>普通模式下，下列命令可以让光标快速调转到指定位置，我们分别讨论快速实现<strong>行间跳转</strong>和<strong>行内跳转</strong>。</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>nG</code>(n Shift+g)</td>
<td>游标移动到第 n 行(如果默认没有显示行号，请先进入命令模式，输入<code>:set nu</code>以显示行号)</td>
</tr>
<tr>
<td><code>gg</code></td>
<td>游标移动到到第一行</td>
</tr>
<tr>
<td><code>G</code>(Shift+g)</td>
<td>到最后一行</td>
</tr>
</tbody>
</table>
<p>依次进行如下操作练习：</p>
<p><code>vim protocols</code></p>
<ul>
<li>快速跳转到第9行，然后将其该行删除</li>
<li>回到第一行，向下删除8行</li>
<li>跳转到文档末，然后删除该行</li>
</ul>
<p>小技巧：<strong>你在完成依次跳转后，可以使用<code>Ctrl+o</code>快速回到上一次(跳转前)光标所在位置</strong>，这个技巧很实用，比如当你在写代码时，忽然想起有个bug，需要修改，这时候你跳过去改好了，只需要按下<code>Ctrl+o</code>就可以回到你之前的位置。Vim中会用很多类似的小技巧就等着你去发掘。</p>
<h4 id="行内跳转"><a href="#行内跳转" class="headerlink" title="行内跳转"></a>行内跳转</h4><p>普通模式下使用下列命令在行内按照单词为单位进行跳转：</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>w</code></td>
<td>到下一个单词的开头</td>
</tr>
<tr>
<td><code>e</code></td>
<td>到下一个单词的结尾</td>
</tr>
<tr>
<td><code>b</code></td>
<td>到前一个单词的开头</td>
</tr>
<tr>
<td><code>ge</code></td>
<td>到前一个单词的结尾</td>
</tr>
<tr>
<td><code>0</code>或<code>^</code></td>
<td>到行头</td>
</tr>
<tr>
<td><code>$</code></td>
<td>到行尾</td>
</tr>
<tr>
<td><code>f&lt;字母&gt;</code></td>
<td>向后搜索&lt;字母&gt;并跳转到第一个匹配的位置(非常实用)</td>
</tr>
<tr>
<td><code>F&lt;字母&gt;</code></td>
<td>向前搜索&lt;字母&gt;并跳转到第一个匹配的位置</td>
</tr>
<tr>
<td><code>t&lt;字母&gt;</code></td>
<td>向后搜索&lt;字母&gt;并跳转到第一个匹配位置之前的一个字母(不常用)</td>
</tr>
<tr>
<td><code>T&lt;字母&gt;</code></td>
<td>向前搜索&lt;字母&gt;并跳转到第一个匹配位置之后的一个字母(不常用)</td>
</tr>
</tbody>
</table>
<p>依次进行如下操作练习：</p>
<p><code>vim protocols</code></p>
<ul>
<li>在普通模式下，任意跳转到一行，使用<code>w</code>跳转到一个单词的开头，然后使用<code>dw</code>删除这个单词</li>
<li>在普通模式下，使用<code>e</code>跳转到一个单词的结尾，并使用<code>~</code>将游标所在字母变成大写或小写</li>
</ul>
<p><img src="https://dn-anything-about-doc.qbox.me/md041717vim3+.gif" alt="jump"></p>
<h3 id="复制粘贴和剪切"><a href="#复制粘贴和剪切" class="headerlink" title="复制粘贴和剪切"></a>复制粘贴和剪切</h3><h4 id="复制及粘贴文本"><a href="#复制及粘贴文本" class="headerlink" title="复制及粘贴文本"></a>复制及粘贴文本</h4><ul>
<li>普通模式中使用<code>y</code>复制<ul>
<li>普通模式中，<code>yy</code>复制游标所在的整行（<code>3yy</code>表示复制3行）</li>
<li>普通模式中，<code>y^</code> 复制至行首，或<code>y0</code>。不含光标所在处字符。</li>
<li>普通模式中，<code>y$</code> 复制至行尾。含光所在处字符。</li>
<li>普通模式中，<code>yw</code> 复制一个单词。</li>
<li>普通模式中，<code>y2w</code> 复制两个单词。</li>
<li>普通模式中，<code>yG</code> 复制至文本末。</li>
<li>普通模式中，<code>y1G</code> 复制至文本开头。</li>
</ul>
</li>
<li>普通模式中使用<code>p</code>粘贴<ul>
<li>普通模式中，<code>p</code>(小写)代表粘贴至光标后（下）</li>
<li>普通模式中，<code>P</code>(大写)代表粘贴至光标前（上）</li>
</ul>
</li>
</ul>
<h4 id="剪切及粘贴"><a href="#剪切及粘贴" class="headerlink" title="剪切及粘贴"></a>剪切及粘贴</h4><p>其实前面讲得<code>dd</code>删除命令就是剪切，你每次<code>dd</code>删除文档内容后，便可以使用<code>p</code>来粘贴，也这一点可以让我们实现一个很爽快的功能——交换上下行：</p>
<p><code>ddp</code>，就这么简单，即实现了快速交换光标所在行与它下面的行。</p>
<h3 id="字符的替换及撤销-Undo操作"><a href="#字符的替换及撤销-Undo操作" class="headerlink" title="字符的替换及撤销(Undo操作)"></a>字符的替换及撤销(Undo操作)</h3><h4 id="替换和撤销-Undo-命令"><a href="#替换和撤销-Undo-命令" class="headerlink" title="替换和撤销(Undo)命令"></a>替换和撤销(Undo)命令</h4><p>替换和Undo命令都是针对普通模式下的操作：</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>r+&lt;待替换字母&gt;</code></td>
<td>将游标所在字母替换为指定字母</td>
</tr>
<tr>
<td><code>R</code></td>
<td>连续替换，直到按下<code>Esc</code></td>
</tr>
<tr>
<td><code>cc</code></td>
<td>替换整行，即删除游标所在行，并进入插入模式</td>
</tr>
<tr>
<td><code>cw</code></td>
<td>替换一个单词，即删除一个单词，并进入插入模式</td>
</tr>
<tr>
<td><code>C</code>(大写)</td>
<td>替换游标以后至行末</td>
</tr>
<tr>
<td><code>~</code></td>
<td>反转游标所在字母大小写</td>
</tr>
<tr>
<td><code>u{n}</code></td>
<td>撤销一次或n次操作</td>
</tr>
<tr>
<td><code>U</code>(大写)</td>
<td>撤销当前行的所有修改</td>
</tr>
<tr>
<td><code>Ctrl+r</code></td>
<td>redo，即撤销undo的操作</td>
</tr>
</tbody>
</table>
<p><img src="https://dn-anything-about-doc.qbox.me/md041718vim5+.gif" alt="replace"></p>
<h3 id="快速缩进"><a href="#快速缩进" class="headerlink" title="快速缩进"></a>快速缩进</h3><h4 id="使用命令进行快速调整缩进操作"><a href="#使用命令进行快速调整缩进操作" class="headerlink" title="使用命令进行快速调整缩进操作"></a>使用命令进行快速调整缩进操作</h4><p>这一小节学习如何在Vim中进行快速缩进，缩进操作均在普通模式下有效。</p>
<p>请做以下练习：</p>
<p><code>vim protocols</code></p>
<ul>
<li>普通模式下输入<code>15G</code>，跳转到15行</li>
<li>普通模式下输入<code>&gt;&gt;</code> 整行将向右缩进（使用，用于格式化代码超爽）</li>
<li>普通模式下输入<code>&lt;&lt;</code> 整行向左回退</li>
<li>普通模式下输入<code>:</code>进入命令行模式下对<code>shiftwidth</code>值进行设置可以控制缩进和回退的字符数</li>
</ul>
<h4 id="shiftwidth命令"><a href="#shiftwidth命令" class="headerlink" title="shiftwidth命令"></a>shiftwidth命令</h4><p><code>shiftwidth</code>命令是指上一节<code>&gt;&gt;</code>命令产生的缩进（可以简写成<code>sw</code>） 普通模式下输入<code>:</code>进入命令行模式下对<code>shiftwidth</code>值进行设置可以控制缩进和回退的字符数 </p>
<p>获取目前的设定值</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">:<span class="keyword">set</span> <span class="built_in">shiftwidth</span>?</div></pre></td></tr></table></figure>
<p>设置缩进为10个字符</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">:<span class="keyword">set</span> <span class="built_in">shiftwidth</span>=<span class="number">10</span></div></pre></td></tr></table></figure>
<p>按下<code>ESC</code>回到普通模式，再次尝试<code>&gt;&gt;</code>看缩进量是否变化。</p>
<h4 id="调整文本位置"><a href="#调整文本位置" class="headerlink" title="调整文本位置"></a>调整文本位置</h4><p><code>vim protocols</code></p>
<ul>
<li>命令行模式下输入<code>:ce</code>(center)命令使本行内容居中</li>
<li>命令行模式下输入<code>:ri</code>(right)命令使本行文本靠右</li>
<li>命令行模式下输入<code>:le</code>(left)命令使本行内容靠左</li>
</ul>
<p><img src="https://dn-anything-about-doc.qbox.me/md041718vim6+.gif" alt="align"></p>
<h3 id="查找-1"><a href="#查找-1" class="headerlink" title="查找"></a>查找</h3><h4 id="快速查找"><a href="#快速查找" class="headerlink" title="快速查找"></a>快速查找</h4><p>普通模式下输入<code>/</code>然后键入需要查找的字符串按回车后就会进行查找。 <code>？</code>与<code>/</code>功能相同，只不过<code>？</code>是向上而<code>/</code>是向下查找。</p>
<p>进入查找之后，输入<code>n</code>和<code>N</code>可以继续查找<code>n</code>表示继续查找，<code>N</code>反向查找。</p>
<p>练习：</p>
<p><code>vim protocols</code></p>
<ul>
<li>普通模式下输入<code>/icmp</code>查找字符串icmp</li>
<li>普通模式下输入<code>n</code>查找下一个icmp</li>
<li>普通模式下输入<code>？tcp</code>向上查找字符串tcp</li>
<li>普通模式下输入<code>N</code>查找上一个出现的tcp</li>
</ul>
<h4 id="高级查找"><a href="#高级查找" class="headerlink" title="高级查找"></a>高级查找</h4><ul>
<li>普通模式下输入<code>\*</code>寻找游标所在处的单词</li>
<li>普通模式下输入<code>\#</code>同上，但 <code>\*</code> 是向前（上）找，<code>\#</code>则是向后（下）找</li>
<li>普通模式下输入<code>g\*</code>同<code>\*</code> ，但部分符合该单词即可</li>
<li>普通模式下输入<code>g\#</code>同<code>\#</code> ，但部分符合该单词即可</li>
</ul>
<blockquote>
<p>以上查找<code>n</code>，<code>N</code>的继续查找命令依然可以用。</p>
</blockquote>
<hr>
<h2 id="进阶内容"><a href="#进阶内容" class="headerlink" title="进阶内容"></a>进阶内容</h2><h3 id="多文件编辑"><a href="#多文件编辑" class="headerlink" title="多文件编辑"></a>多文件编辑</h3><h4 id="使用Vim编辑多个文件"><a href="#使用Vim编辑多个文件" class="headerlink" title="使用Vim编辑多个文件"></a>使用Vim编辑多个文件</h4><p>编辑多个文件有两种形式，一种是在进入Vim前使用的参数就是多个文件。另一种就是进入Vim后再编辑其他的文件。 同时创建两个新文件并编辑</p>
<p><code>$ vim 1.txt 2.txt</code></p>
<p>默认进入1.txt文件的编辑界面</p>
<ul>
<li>命令行模式下输入<code>:n</code>编辑2.txt文件，可以加<code>!</code>即<code>:n!</code>强制切换，之前一个文件的输入没有保存，仅仅切换到另一个文件。</li>
<li>命令行模式下输入<code>:N</code>编辑1.txt文件，可以加<code>!</code>即<code>:N!</code>强制切换，之前文件内的输入没有保存，仅仅是切换到另一个文件。</li>
</ul>
<h4 id="进入vim后打开新文件"><a href="#进入vim后打开新文件" class="headerlink" title="进入vim后打开新文件"></a>进入vim后打开新文件</h4><ul>
<li>命令行模式下输入<code>:e 3.txt</code> 打开新文件3.txt</li>
<li>命令行模式下输入<code>:e#</code> 回到前一个文件</li>
<li>命令行模式下输入<code>:ls</code>可以列出以前编辑过的文档</li>
<li>命令行模式下输入<code>:b 2.txt</code>（或者编号）可以直接进入文件2.txt编辑</li>
<li>命令行模式下输入<code>:bd 2.txt</code>（或者编号）可以删除以前编辑过的列表中的文件项目</li>
<li>命令行模式下输入<code>:e! 4.txt</code>，新打开文件4.txt，放弃正在编辑的文件</li>
<li>命令行模式下输入<code>:f</code> 显示正在编辑的文件名</li>
<li>命令行模式下输入<code>:f new.txt</code>，改变正在编辑的文件名字为new.txt</li>
</ul>
<h4 id="恢复文件"><a href="#恢复文件" class="headerlink" title="恢复文件"></a>恢复文件</h4><p>如果因为断电等原因造成文档没有保存，可以采用恢复方式，<code>vim -r</code>进入文档后，输入<code>:ewcover 1.txt</code>来恢复</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ vim -r 1.txt</div></pre></td></tr></table></figure>
<h3 id="可视模式"><a href="#可视模式" class="headerlink" title="可视模式"></a>可视模式</h3><ul>
<li>在普通模式下输入<code>v</code>（小写），进入字符选择模式，就可以移动光标，光标走过的地方就会选取。再次按下<code>v</code>会后就会取消选取。</li>
<li>在普通模式下输入<code>Shift+v</code>（小写），进入行选择模式，按下<code>V</code>之后就会把整行选取，您可以上下移动光标选更多的行，同样，再按一次<code>Shift+v</code>就可以取消选取。</li>
<li>在普通模式下输入 <code>Ctrl+v</code>（小写），这是区域选择模式，可以进行矩形区域选择，再按一次<code>Ctrl+v</code>取消选取。</li>
<li>在普通模式下输入<code>d</code>删除选取区域内容</li>
<li>在普通模式下输入<code>y</code>复制选取区域内容</li>
</ul>
<p>请做以下练习：</p>
<p><code>$ vim protocols</code></p>
<ul>
<li>在普通模式下<code>9G</code>跳转到第9行,输入<code>Shift+v</code>（小写V），进入可视模式进行行选择，选中5行，按下<code>&gt;&gt;</code>缩进，将5行整体缩进一个shiftwidth</li>
<li>在普通模式下输入 <code>Ctrl+v</code>（小写v），进入可视模式进行矩形区域选择，选中第一列字符然后<code>x</code>删除整列</li>
</ul>
<p><img src="https://dn-anything-about-doc.qbox.me/md041719vim7+.gif" alt="visualMode"></p>
<h3 id="视窗操作"><a href="#视窗操作" class="headerlink" title="视窗操作"></a>视窗操作</h3><p>Vim可以在一个界面里打开多个窗口进行编辑，这些编辑窗口称为Vim的视窗。 打开方法有很多种，例如可以使用在命令行模式下输入<code>:new</code> 打开一个新的Vim视窗，并进入视窗编辑一个新文件。</p>
<ul>
<li>命令行模式下输入<code>:sp 1.txt</code> 打开新的横向视窗来编辑1.txt</li>
<li>命令行模式下输入<code>:vsp 2.txt</code> 打开新的纵向视窗来编辑1.txt</li>
<li>普通模式下<code>Ctrl-w s</code> 将当前窗口分割成两个水平的窗口</li>
<li>普通模式下<code>Ctrl-w v</code> 将当前窗口分割成两个垂直的窗口</li>
<li>普通模式下<code>Ctrl-w q</code> 即 <code>:q</code> 结束分割出来的视窗。如果在新视窗中有输入需要使用强制符！即:q!</li>
<li>普通模式下<code>Ctrl-w o</code> 打开一个视窗并且隐藏之前的所有视窗</li>
<li>普通模式下<code>Ctrl-w j</code> 移至下面视窗</li>
<li>普通模式下<code>Ctrl-w k</code> 移至上面视窗</li>
<li>普通模式下<code>Ctrl-w h</code> 移至左边视窗</li>
<li>普通模式下<code>Ctrl-w l</code> 移至右边视窗</li>
<li>普通模式下<code>Ctrl-w J</code> 将当前视窗移至下面</li>
<li>普通模式下<code>Ctrl-w K</code> 将当前视窗移至上面</li>
<li>普通模式下<code>Ctrl-w H</code> 将当前视窗移至左边</li>
<li>普通模式下<code>Ctrl-w L</code> 将当前视窗移至右边</li>
<li>普通模式下<code>Ctrl-w -</code> 减小视窗的高度</li>
<li>普通模式下<code>Ctrl-w +</code> 增加视窗的高度</li>
</ul>
<p>打开练习文件：</p>
<p><code>$ vim 1.txt</code></p>
<ul>
<li>命令行模式下输入<code>:new</code> 打开一个新的vim视窗</li>
<li>命令行模式下输入<code>:sp 2.txt</code> 打开新的横向视窗来编辑2.txt</li>
<li>命令行模式下输入<code>:vsp 3.txt</code> 打开新的横向视窗来编辑3.txt</li>
<li>可以使用<code>Ctrl+w</code>进行视窗间的跳转</li>
<li>分别在不同视窗的命令行模式下输入<code>:q!</code>退出多视窗编辑</li>
</ul>
<p><img src="https://dn-anything-about-doc.qbox.me/md041719vim8+.gif" alt="multiWindows"></p>
<h3 id="功能设定"><a href="#功能设定" class="headerlink" title="功能设定"></a>功能设定</h3><h4 id="Vim的功能设定"><a href="#Vim的功能设定" class="headerlink" title="Vim的功能设定"></a>Vim的功能设定</h4><p>可以在编辑文件的时候进行功能设定，如命令行模式下输入<code>:set nu</code>（显示行数），设定值退出Vim后不会保存。要永久保存配置需要修改Vim配置文件。Vim的配置文件<code>~/.vimrc</code>，可以打开文件进行修改，不过务必小心不要影响Vim正常使用</p>
<h4 id="获取目前的设定"><a href="#获取目前的设定" class="headerlink" title="获取目前的设定"></a>获取目前的设定</h4><ul>
<li>命令行模式下输入<code>:set</code>或者<code>:se</code>显示所有修改过的配置</li>
<li>命令行模式下输入<code>:set all</code> 显示所有的设定值</li>
<li>命令行模式下输入<code>:set option?</code> 显示option的设定值</li>
<li>命令行模式下输入<code>:set nooption</code> 取消当期设定值</li>
</ul>
<h4 id="set功能的说明"><a href="#set功能的说明" class="headerlink" title="set功能的说明"></a>set功能的说明</h4><ul>
<li>命令行模式下输入<code>:set autoindent(ai)</code> 设置自动缩进</li>
<li>命令行模式下输入<code>:set autowrite(aw)</code> 设置自动存档，默认未打开</li>
<li>命令行模式下输入<code>:set background=dark</code>或<code>light</code>，设置背景风格</li>
<li>命令行模式下输入<code>:set backup(bk)</code> 设置自动备份，默认未打开</li>
<li>命令行模式下输入<code>:set cindent(cin)</code> 设置C语言风格缩进</li>
</ul>
<blockquote>
<p>更多详细参数请参考Vim手册</p>
</blockquote>
</div></article><div class="tags"><a href="/tags/Vim/">Vim</a></div><div class="paginator"><a href="/2016/11/03/hexo-plugin-owl/" class="prev"><i class="iconfont icon-left"></i><span> Prev</span></a><a href="/2016/04/16/linux-tutorial/" class="next"><span>Next</span><i class="iconfont icon-right"></i></a></div><section id="comments"><div id="disqus_thread"></div></section><script type="text/javascript">var disqus_config = function () {
    this.page.url = 'http://git.chenkunonline.cn/2016/04/17/vim-tutorial/';
    this.page.identifier = '2016/04/17/vim-tutorial/';
    this.page.title = 'Vim编辑器实用基础';
};
(function() {
var d = document, s = d.createElement('script');

s.src = '//Quentin.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();</script></section><footer><div class="copyright"><p class="power">Powered by <a href="https://hexo.io/">Hexo</a> and Theme by <a href="https://github.com/ahonn/hexo-theme-even"> Even</a></p><p class="since">&copy;2014-2016<span class="heart"><i class="iconfont icon-heart"></i></span><span class="author">Quentin</span></p></div><label id="back2top"><i class="iconfont icon-up"></i></label></footer></div><script src="/js/zepto.min.js"></script><script src="/js/theme.js"></script></body></html>